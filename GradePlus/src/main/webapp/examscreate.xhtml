<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
        PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:f="http://xmlns.jcp.org/jsf/core" xmlns:b="http://bootsfaces.net/ui" xmlns:h="http://xmlns.jcp.org/jsf/html"
      xml:lang="en" lang="en">
<head>
    <!-- Seite zum Erstellen einer neuen Pruefung fuer eine Instanz der LV -->
    <title>Title</title>
</head>
<body>
<ui:composition template="WEB-INF/template.xhtml">
    <ui:param name="title" value="#{msg['title']}"/>

    <ui:define name="content">
        <f:loadBundle basename="internationalization.examscreate" var="msg" />

        <b:form>
            <b:container class="form-group">
                <b:row>
                    <b:column class="title" span="4" colSm="12" colMd="12" colXs="12">
                        <h1>
                            <h:outputText value="#{msg['subtitle']}" />
                        </h1>
                    </b:column>
                </b:row>
                <b:row>
                    <b:column span="4">
                        <h2>
                            <h:outputText value="#{msg['outputInstanceLecture']}"/>
                        </h2>
                    </b:column>
                </b:row>

                <b:row>
                    <b:column span="2">
                        <h:outputLabel value="#{msg['outputName']}"/>
                    </b:column>
                    <b:column span="4">
                        <h:outputLabel value="#{examsBean.instanceLecture.lecture.name}"/>
                    </b:column>
                </b:row>
                <b:row>
                    <b:column span="2">
                        <h:outputLabel value="#{msg['outputVak']}"/>
                    </b:column>
                    <b:column span="4">
                        <h:outputLabel value="#{examsBean.instanceLecture.lecture.vak}"/>
                    </b:column>
                </b:row>
                <b:row>
                    <b:column span="2">
                        <h:outputLabel value="#{msg['outputSemester']}"/>
                    </b:column>
                    <b:column span="4">
                        <h:outputLabel value="#{examsBean.instanceLecture.semesterToString()}"/>
                    </b:column>
                </b:row>

                <b:row class="space25px"/>
                <b:row>
                    <b:column span="4">
                        <h2>
                            <h:outputText value="#{msg['outputExamdata']}"/>
                        </h2>
                    </b:column>
                </b:row>

                <b:formGroup rendered="#{true}">

                    <!-- START OF TIME SLOT PICKER -->
                    <b:row>
                        <b:column span="4" offset="2">
                            <b:message for="startOfTimeSlot"/>
                        </b:column>
                    </b:row>
                    <b:row class="btn-paragraph">
                        <b:column span="2">
                            <h:outputLabel value="#{msg['outputStartOfTimeSlot']}"/>
                        </b:column>
                        <b:column span="4">
                            <b:dateTimePicker placeholder="#{msg['inputStartOfTimeSlot']}"
                                              id="startOfTimeSlot"
                                              value="#{examsBean.startOfTimeSlot}"
                                              format="DD.MM.YYYY HH:mm"
                                              required="true"
                                              requiredMessage="#{msg['errorStartOfTimeSlotRequired']}"/>
                        </b:column>
                    </b:row>

                    <!-- END OF TIME SLOT PICKER -->
                    <b:row>
                        <b:column span="4" offset="2">
                            <b:message for="endOfTimeSlot"/>
                        </b:column>
                    </b:row>
                    <b:row class="btn-paragraph">
                        <b:column span="2">
                            <h:outputLabel value="#{msg['outputEndOfTimeSlot']}"/>
                        </b:column>
                        <b:column span="4">
                            <b:dateTimePicker placeholder="#{msg['inputEndOfTimeSlot']}"
                                              id="endOfTimeSlot"
                                              value="#{examsBean.endOfTimeSlot}"
                                              format="DD.MM.YYYY HH:mm"
                                              required="true"
                                              requiredMessage="#{msg['errorEndOfTimeSlotRequired']}"/>
                        </b:column>
                    </b:row>

                    <!-- EXAM LENGTH -->
                    <b:row>
                        <b:column span="4" offset="2">
                            <b:message for="examLength"/>
                        </b:column>
                    </b:row>
                    <b:row class="btn-paragraph">
                        <b:column span="2">
                            <h:outputLabel value="#{msg['outputExamLength']}"/>
                        </b:column>
                        <b:column span="4">
                            <b:inputText mask="integer"
                                         placeholder="#{msg['inputExamLength']}"
                                         id="examLength"
                                         value="#{examsBean.exam.examLength}"
                                         required="true"
                                         requiredMessage="#{msg['errorExamLengthRequired']}"/>
                        </b:column>
                    </b:row>

                    <!-- BREAK LENGTH -->
                    <b:row>
                        <b:column span="4" offset="2">
                            <b:message for="lengthOfBreaks"/>
                        </b:column>
                    </b:row>
                    <b:row class="btn-paragraph">
                        <b:column span="2">
                            <h:outputLabel value="#{msg['outputLengthOfBreaks']}"/>
                        </b:column>
                        <b:column span="4">
                            <b:inputText mask="integer"
                                         placeholder="#{msg['inputLengthOfBreaks']}"
                                         id="lengthOfBreaks"
                                         value="#{examsBean.lengthOfBreaks}"
                                         required="true"
                                         requiredMessage="#{msg['errorLengthOfBreaksRequired']}"/>
                        </b:column>
                    </b:row>

                    <!-- EXAMINER PANEL -->
                    <b:row>
                        <b:column span="2">
                            <h:outputLabel value="#{msg['outputSelectExaminers']}"/>
                        </b:column>
                        <b:column span="7">
                            <b:panel>
                                <b:dataTable value="#{usersBean.allStudentsAndExaminer}" var="u"
                                             excel="false"
                                             csv="false"
                                             pdf="false"
                                             columnVisibility="false"
                                             copy="false"
                                             print="false">

                                    <b:dataTableColumn label="#{msg['outputGivenName']}" value="#{u.givenName}"/>
                                    <b:dataTableColumn label="#{msg['outputSurname']}" value="#{u.surname}"/>
                                    <b:dataTableColumn label="#{msg['actionSelect']}" orderable="false">
                                        <b:commandButton value="#{msg['actionSelect']}" disabled="#{examsBean.exam.examiners.contains(u)}" action="#{examsBean.exam.addExaminer(u)}" />
                                    </b:dataTableColumn>
                                    <b:dataTableColumn label="#{msg['actionRemove']}" orderable="false">
                                        <b:commandButton value="#{msg['actionRemove']}" disabled="#{!examsBean.exam.examiners.contains(u)}" action="#{examsBean.exam.removeExaminer(u)}" />
                                    </b:dataTableColumn>
                                </b:dataTable>
                            </b:panel>
                        </b:column>
                    </b:row>

                    <b:row class="space50px"/>

                    <!-- BUTTON SAVE CANCEL -->
                    <b:row class="btn-paragraph">
                        <b:column span="2">
                            <b:commandButton value="#{msg['actionCreate']}"
                                             action="#{examsBean.createExamsForTimeFrame}"/>
                        </b:column>
                        <b:column span="1">
                            <b:button value="#{msg['linkCancel']}" outcome="exams"/>
                        </b:column>
                    </b:row>
                </b:formGroup>

            </b:container>
        </b:form>

    </ui:define>
</ui:composition>
</body>
</html>